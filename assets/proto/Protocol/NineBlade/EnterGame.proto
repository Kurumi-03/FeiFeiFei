syntax = "proto3";

package RichServer.Protocol.NineBlade;

import "RichServer.JuYouGames/Protocol/Public/SyncPoint.proto";

// 進入遊戲
message EnterGameRequest {
  string TableToken = 1;
  string TableKey = 2;    //這個桌子的table key重新連線使用,第一次進入不用填
  int32 PlayerId = 3;     //玩家流水號,重新連線使用,第一次進入不用填
  string PlayerToken = 4; //登入驗證令牌,重新連線使用,第一次進入不用填
  string Version = 5;     //版本號,重新連線使用,第一次進入不用填
}

message EnterGameResponse {
  /*
    [ErrorCode]
    -1: 請求參數無效
    -2: 遊戲TableToken不存在
    -3: 玩家已在此遊戲
    -4: 已達最大可入局人數
    -5: 局關閉
  */
  int32 ErrorCode = 1;            // 錯誤碼(正常:0,-6:玩家在其他遊戲中,-7:版本錯誤,-8:令牌錯誤)
}

message EnterGameReceipt {
  int32 PlayerId = 1;     // 玩家ID
  double GPoint = 2;      // 玩家餘額
  double TotBet = 3;      // 目前總注
  int32 PlayerSeatId = 4; // 玩家座位ID
  bool IsLeaveGame = 5;   // 玩家是否已經被強制離開遊戲(斷線時間超過1分鐘，且已經有大贏家，玩家會被踢出)
   int32 TotalSeat = 6;   // 座位數
  RichServer.Protocol.JuYouGames.SyncPoint SyncPoint = 7;  // 使用 SyncPoint + xxxReceipt * N => 處理 斷線重連線 與 及時入局 的同步問題
}